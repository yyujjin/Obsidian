{
	"nodes":[
		{"id":"037fbe32889855e4","type":"text","text":"@PostMapping(\"/login_yn\")\r\n    public String login_yn(@RequestParam HashMap<String, String> param, HttpServletRequest request, Model model) {\r\n        log.info(\"@# login_yn\");\r\n        String loginType = param.get(\"loginType\"); // ì‚¬ìš©ì ìœ í˜•(ê°œì¸/ê¸°ì—…)\r\n        ArrayList<MemDTO> user = service.loginYn(param);\r\n\r\n        if (user.isEmpty()) {\r\n            log.info(\"ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");\r\n            return \"redirect:login?error=true\";\r\n        }\r\n\r\n        MemDTO foundUser = user.get(0);\r\n\r\n        // ì‚¬ìš©ì ìœ í˜•ì´ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸\r\n        if ((loginType.equals(\"individual\") && foundUser.getUserType() != -1) || (loginType.equals(\"enterprise\") && foundUser.getUserType() != 1)) {\r\n            log.info(\"ë¡œê·¸ì¸ ìœ í˜•ì´ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\");\r\n            return \"redirect:login?error=true\";\r\n        }\r\n\r\n        // ì…ë ¥ëœ ë¹„ë°€ë²ˆí˜¸ê°€ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ëœ ë¹„ë°€ë²ˆí˜¸ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸\r\n        if (!foundUser.getMemPwd().equals(param.get(\"memPwd\"))) {\r\n            log.info(\"ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\");\r\n            return \"redirect:login?error=true\";\r\n        }\r\n\r\n        // ì„¸ì…˜ì— ì‚¬ìš©ì ì •ë³´ ì €ì¥\r\n        HttpSession session = request.getSession();\r\n        session.setAttribute(\"user\", foundUser);\r\n        log.info(\"ì‚¬ìš©ì ì„¸ì…˜ ì €ì¥ ì™„ë£Œ: \" + foundUser.getMemId());\r\n        return \"redirect:main\";\r\n    }\r\n","x":620,"y":-1237,"width":250,"height":60},
		{"id":"c43dc24825c78d05","type":"text","text":"```java\n<!--ê°œì¸-->\n\n<form id=\"individualForm\" method=\"post\" action=\"/login_yn\">\n\n<input type=\"hidden\" name=\"loginType\" value=\"individual\">\n\n<div class=\"input-container\">\n\n<input type=\"text\" name=\"memId\" placeholder=\"ì•„ì´ë””\" required>\n\n</div>\n\n<div class=\"input-container\">\n\n<input type=\"password\" name=\"memPwd\" placeholder=\"ë¹„ë°€ë²ˆí˜¸\" required>\n\n</div>\n\n<button type=\"submit\">ë¡œê·¸ì¸</button>\n\n<span class=\"register-link\" data-type=\"individual\">íšŒì›ê°€ì…</span>\n\n</form>\n\n\n<!--ê¸°ì—…-->\n\n<form id=\"companyForm\" method=\"post\" action=\"/login_yn\" style=\"display: none;\">\n\n<input type=\"hidden\" name=\"loginType\" value=\"enterprise\">\n\n<div class=\"input-container\">\n\n<input type=\"text\" name=\"memId\" placeholder=\"ê¸°ì—…íšŒì›ì•„ì´ë””\" required>\n\n</div>\n\n<div class=\"input-container\">\n\n<input type=\"password\" name=\"memPwd\" placeholder=\"ë¹„ë°€ë²ˆí˜¸\" required>\n\n</div>\n\n<button type=\"submit\">ë¡œê·¸ì¸</button>\n\n<span class=\"register-link\" data-type=\"enterprise\">íšŒì›ê°€ì…</span>\n\n</form>\n```","x":-180,"y":-1720,"width":1140,"height":1080},
		{"id":"8c7cc097fcb066d1","type":"text","text":"# login.jsp","x":-180,"y":-1780,"width":250,"height":60},
		{"id":"57eaffef09af1b9f","x":2200,"y":-1907,"width":294,"height":60,"type":"text","text":"# MemController"},
		{"id":"f125be6adfc80906","x":70,"y":-1770,"width":276,"height":50,"type":"text","text":"## ë¡œê·¸ì¸ ê¸°ëŠ¥"},
		{"id":"74a9bb4ec0f94c7b","x":2160,"y":-1852,"width":2280,"height":2812,"type":"text","text":"```java\n@PostMapping(\"/login_yn\")\n\npublic String login_yn(@RequestParam HashMap<String, String> param, HttpServletRequest request, Model model) {\n\nlog.info(\"@# login_yn\"); \n\n\n//nameê³¼ valueê°€ ìˆëŠ” ê²ƒë“¤ì´ íŒŒë¼ë¯¸í„°ë¡œ ë„˜ì–´ì˜´ => ë¡œê·¸ì¸ íƒ€ì…(ê¸°ì—…, ê°œì¸), ì•„ì´ë””, ë¹„ë°€ë²ˆí˜¸ \n\n//{loginType=individual, memId=user01, memPwd=1234}\n\n\n\n//ğŸ“Œì»¨íŠ¸ë¡¤ëŸ¬ì™€ ì„œë¹„ìŠ¤ì˜ ê¸°ëŠ¥ì„ ëª…í™•íˆ êµ¬ë¶„í•˜ëŠ”ê²Œ ì¢‹ì„ ê²ƒê°™ìŒ\n\n//ğŸ“ŒUserManagementService ë¡œ ì„œë¹„ìŠ¤ ìƒì„±í•´ì„œ ë°‘ì— ì½”ë“œ ë„£ê¸°\n\n\n\n//ë¡œê·¸ì¸ íƒ€ì…ì„ í™•ì¸í•´ì„œ\nString loginType = param.get(\"loginType\"); // ì‚¬ìš©ì ìœ í˜•(ê°œì¸/ê¸°ì—…)\n\nArrayList<MemDTO> user = service.loginYn(param);\n\n  \n\nif (user.isEmpty()) {\n\nlog.info(\"ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");\n\nreturn \"redirect:login?error=true\";\n\n}\n\n  \n\nMemDTO foundUser = user.get(0);\n\n  \n\n// ì‚¬ìš©ì ìœ í˜•ì´ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸\n\nif ((loginType.equals(\"individual\") && foundUser.getUserType() != -1) || (loginType.equals(\"enterprise\") && foundUser.getUserType() != 1)) {\n\nlog.info(\"ë¡œê·¸ì¸ ìœ í˜•ì´ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\");\n\nreturn \"redirect:login?error=true\";\n\n}\n\n  \n\n// ì…ë ¥ëœ ë¹„ë°€ë²ˆí˜¸ê°€ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ëœ ë¹„ë°€ë²ˆí˜¸ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸\n\nif (!foundUser.getMemPwd().equals(param.get(\"memPwd\"))) {\n\nlog.info(\"ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\");\n\nreturn \"redirect:login?error=true\";\n\n}\n\n  \n\n// ì„¸ì…˜ì— ì‚¬ìš©ì ì •ë³´ ì €ì¥\n\nHttpSession session = request.getSession();\n\nsession.setAttribute(\"user\", foundUser);\n\nlog.info(\"ì‚¬ìš©ì ì„¸ì…˜ ì €ì¥ ì™„ë£Œ: \" + foundUser.getMemId());\n\nreturn \"redirect:main\";\n\n}\n```"},
		{"id":"8fc3aa15e94bf142","x":1360,"y":-760,"width":489,"height":50,"type":"text","text":"### í¼ ì‘ì„±í•˜ê³  ë²„íŠ¼ ëˆ„ë¥´ë©´ ì‹¤í–‰ë¨ "}
	],
	"edges":[
		{"id":"466eeee8d071fbde","fromNode":"c43dc24825c78d05","fromSide":"right","toNode":"74a9bb4ec0f94c7b","toSide":"left"}
	]
}